"use strict";(self.webpackChunkdavidpaulsson_se=self.webpackChunkdavidpaulsson_se||[]).push([[691],{8527:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var r=n(3234),o=n(6681),s=n(7294),i=n(5487),c=n(3380),l=n(7367);const a=new WeakMap;let f;function u({target:e,contentRect:t,borderBoxSize:n}){var r;null===(r=a.get(e))||void 0===r||r.forEach((r=>{r({target:e,contentSize:t,get size(){return function(e,t){if(t){const{inlineSize:e,blockSize:n}=t[0];return{width:e,height:n}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(e,n)}})}))}function d(e){e.forEach(u)}function g(e,t){f||"undefined"!=typeof ResizeObserver&&(f=new ResizeObserver(d));const n=function(e,t,n){var r;if("string"==typeof e){let o=document;t&&((0,i.k)(Boolean(t.current),"Scope provided, but no element detected."),o=t.current),n?(null!==(r=n[e])&&void 0!==r||(n[e]=o.querySelectorAll(e)),e=n[e]):e=o.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}(e);return n.forEach((e=>{let n=a.get(e);n||(n=new Set,a.set(e,n)),n.add(t),null==f||f.observe(e)})),()=>{n.forEach((e=>{const n=a.get(e);null==n||n.delete(t),(null==n?void 0:n.size)||null==f||f.unobserve(e)}))}}const h=new Set;let p;function m(e){return h.add(e),p||(p=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};h.forEach((e=>e(t)))},window.addEventListener("resize",p)),()=>{h.delete(e),!h.size&&p&&(p=void 0)}}var v=n(3967),y=n(3038);const E=50,w=()=>({time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}}),L={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function x(e,t,n,r){const o=n[t],{length:s,position:i}=L[t],c=o.current,l=n.time;o.current=e["scroll"+i],o.scrollLength=e["scroll"+s]-e["client"+s],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=(0,v.Y)(0,o.scrollLength,o.current);const a=r-l;o.velocity=a>E?0:(0,y.R)(o.current-c,a)}const W={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},b={start:0,center:.5,end:1};function z(e,t,n=0){let r=0;if(void 0!==b[e]&&(e=b[e]),"string"==typeof e){const t=parseFloat(e);e.endsWith("px")?r=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?r=t/100*document.documentElement.clientWidth:e.endsWith("vh")?r=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(r=t*e),n+r}const B=[0,0];function S(e,t,n,r){let o=Array.isArray(e)?e:B,s=0,i=0;return"number"==typeof e?o=[e,e]:"string"==typeof e&&(o=(e=e.trim()).includes(" ")?e.split(" "):[e,b[e]?e:"0"]),s=z(o[0],n,r),i=z(o[1],t),s-i}var O=n(5367),k=n(2093);const H={x:0,y:0};function Y(e,t,n){let{offset:r=W.All}=n;const{target:o=e,axis:s="y"}=n,i="y"===s?"height":"width",c=o!==e?function(e,t){let n={x:0,y:0},r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r instanceof SVGGraphicsElement&&"getBBox"in r){const{top:e,left:t}=r.getBBox();for(n.x+=t,n.y+=e;r&&"svg"!==r.tagName;)r=r.parentNode}return n}(o,e):H,l=o===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:o.clientWidth,height:o.clientHeight},a={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let f=!t[s].interpolate;const u=r.length;for(let d=0;d<u;d++){const e=S(r[d],a[i],l[i],c[s]);f||e===t[s].interpolatorOffsets[d]||(f=!0),t[s].offset[d]=e}f&&(t[s].interpolate=(0,O.s)(t[s].offset,(0,k.Y)(r)),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=t[s].interpolate(t[s].current)}function A(e,t,n,r={}){return{measure:()=>function(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,r.target,n),update:t=>{!function(e,t,n){x(e,"x",t,n),x(e,"y",t,n),t.time=n}(e,n,t),(r.offset||r.target)&&Y(e,n,r)},notify:()=>t(n)}}const P=new WeakMap,N=new WeakMap,M=new WeakMap,T=e=>e===document.documentElement?window:e;function j(e,{container:t=document.documentElement,...n}={}){let r=M.get(t);r||(r=new Set,M.set(t,r));const o=w(),s=A(t,e,o,n);if(r.add(s),!P.has(t)){const e=()=>{for(const e of r)e.measure()},n=()=>{for(const e of r)e.update(l.frameData.timestamp)},o=()=>{for(const e of r)e.notify()},s=()=>{c.Wi.read(e,!1,!0),c.Wi.update(n,!1,!0),c.Wi.update(o,!1,!0)};P.set(t,s);const f=T(t);window.addEventListener("resize",s,{passive:!0}),t!==document.documentElement&&N.set(t,(a=s,"function"==typeof(i=t)?m(i):g(i,a))),f.addEventListener("scroll",s,{passive:!0})}var i,a;const f=P.get(t);return c.Wi.read(f,!1,!0),()=>{var e;(0,c.Pn)(f);const n=M.get(t);if(!n)return;if(n.delete(s),n.size)return;const r=P.get(t);P.delete(t),r&&(T(t).removeEventListener("scroll",r),null===(e=N.get(t))||void 0===e||e(),window.removeEventListener("resize",r))}}var G=n(8868);function R(e,t){(0,i.K)(Boolean(!t||t.current),`You have defined a ${e} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}const X=()=>({scrollX:(0,r.B)(0),scrollY:(0,r.B)(0),scrollXProgress:(0,r.B)(0),scrollYProgress:(0,r.B)(0)});var Z=n(6610),q=n(1883),C=n(639),F=n(9768),V=n(9697),_=n(8482),D=n(6221);var K=()=>{const{height:e}=(0,D.Z)(),[t,{height:n}]=(0,_.Z)(),{scrollYProgress:r}=function({container:e,target:t,layoutEffect:n=!0,...r}={}){const i=(0,o.h)(X);return(n?G.L:s.useEffect)((()=>(R("target",t),R("container",e),j((({x:e,y:t})=>{i.scrollX.set(e.current),i.scrollXProgress.set(e.progress),i.scrollY.set(t.current),i.scrollYProgress.set(t.progress)}),{...r,container:(null==e?void 0:e.current)||void 0,target:(null==t?void 0:t.current)||void 0}))),[]),i}();return s.createElement(s.Fragment,null,s.createElement(Z.E.div,Object.assign({style:{height:n+"px"},className:"behind pad"},V.yY),s.createElement(F.Z,null)),s.createElement(Z.E.div,Object.assign({className:"cover"},V.h2)),s.createElement(q.Link,{className:"behind",to:"/output",title:"Go to projects"}),s.createElement(Z.E.div,Object.assign({ref:t,className:"front"},(0,V.x2)({height:e})),s.createElement("div",{className:"pad"},s.createElement(C.Z,null))))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-d8b65fef55bad4868f60.js.map